{% extends 'base.html' %} {% block title %} Speech Time {% endblock %}

{% block body %}

{% if current_user.is_authenticated %}

<div class="flex w-5/6 flex-col items-center justify-center lg:flex-row">

  {% if current_user.script %}
  <div class="w-full mb-10 mt-4 max-w-2xl lg:mb-0 lg:ml-10 lg:w-1/2">
    <div class="space-y-8 rounded-xl bg-white pl-7 pr-7 p-20 shadow-lg dark:bg-[#2E2868]">
      <div class="relative">
        <div class="text-2xl text-center font-bold text-gray-700 dark:text-gray-300">Speech</div>
      </div>
      <div class="relative z-10 flex flex-col items-center justify-center bg-white p-0 text-center dark:bg-[#2E2868]">
        <div class="h-96 overflow-y-scroll">
          <p class="text-left leading-loose text-gray-600 dark:text-gray-400">{{current_user.script}}</p>
        </div>
      </div>
    </div>
  </div>

  {% endif %}

  <div class="relative z-10 mb-10 ml-10 mr-10 mt-4 w-full max-w-2xl lg:mb-0 lg:ml-10 lg:w-1/2">
    <div class="space-y-8 rounded-xl bg-white p-10 shadow-lg dark:bg-[#2E2868]">
      <div
        class="relative z-10 flex flex-col items-center justify-center space-y-8 rounded-xl bg-white p-5 text-center dark:bg-[#2E2868]">
        <div class="text-sm text-gray-400 dark:text-gray-300">Step 2 of 3</div>
        <div class="relative">
          <div class="text-2xl font-bold text-gray-700 dark:text-gray-300" style="padding-bottom: 0">Record your speech
          </div>
          <div class="text-sm text-gray-700 dark:text-gray-400" style="padding-top: 0.5rem">Audio should not exceed 5
            minutes</div>
        </div>

        <div class="relative">
          <div id="notif" class="text-xl text-gray-800 dark:text-gray-300" style="padding-bottom: 1.5rem">Tap the button
            to start recording</div>

          <div class="h-64">
            <button id="record-btn" class="record" data-state="ready" value="Ready">
              <span id="record-icon"></span>
            </button>

            <div id="reminder" class="mt-2 dark:text-gray-300" style="padding-top:1rem">For best results, place your
              microphone about 6-12 inches from your mouth</div>
            <div id="countdown" class="mt-2 hidden text-2xl font-bold dark:text-white"></div>
            <div id="timer" class="mt-2 hidden text-2xl font-bold dark:text-white">00:00</div>
          </div>
        </div>

        <div class="pt-10">
          <button data-popover-target="popover-default" type="button" class="text-gray-400 text-center">Privacy
            Policy</button>
        </div>

        <div data-popover id="popover-default" role="tooltip"
          class="absolute z-10 invisible inline-block w-full text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-900 rounded-lg shadow-sm opacity-0 dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800">
          <div
            class="px-3 py-2 bg-gray-200 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700">
            <h3 class="font-semibold text-gray-900 dark:text-white">Disclamer</h3>
          </div>
          <div class="px-3 py-2">
            <p>
              When using our app to record audio, we prioritize your privacy and take steps to ensure that you remain
              anonymous and non-identifiable. We have implemented measures to safeguard your personal information and
              dissociate it from the recorded audio.
              <br><br>
              Your audio is stored in a database for the sole purpose of processing the audio to provide speech delivery
              feedback.
              <br><br>
              It is not shared with third-party organizations and is protected under the Data Privacy Act of 2012 or
              RA 10173.
            </p>
          </div>
          <div data-popper-arrow></div>
        </div>


      </div>
    </div>
  </div>
</div>

{% else %}

<h1>User must have a username and their script to proceed to this page.</h1>
<a href="{{url_for('index')}}">Home</a>

{% endif %}

{% endblock %}